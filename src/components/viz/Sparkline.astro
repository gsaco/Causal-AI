---
const { values = [], width = 140, height = 40, stroke = "var(--accent)" } = Astro.props;
const max = Math.max(...values, 1);
const min = Math.min(...values, 0);
const range = max - min || 1;
const step = values.length > 1 ? width / (values.length - 1) : width;
const points = values
  .map((value, index) => {
    const x = index * step;
    const y = height - ((value - min) / range) * height;
    return `${x},${y}`;
  })
  .join(" ");
---
<svg width={width} height={height} viewBox={`0 0 ${width} ${height}`} role="img" aria-label="Trend sparkline">
  <polyline points={points} fill="none" stroke={stroke} stroke-width="2" />
</svg>
